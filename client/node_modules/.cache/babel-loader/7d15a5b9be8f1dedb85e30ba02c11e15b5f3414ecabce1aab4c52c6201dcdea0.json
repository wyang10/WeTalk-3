{"ast":null,"code":"import _slicedToArray from\"D:/xingqian/htmlWorkSpace/Archive/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../css/FollowPage.css';import{useEffect,useState}from\"react\";import{baseurl}from\"../config\";import{UserItem}from\"../components/UserItem\";import{post}from\"../utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function FollowPage(props){var user_id=props.user_id;var queryParameters=new URLSearchParams(window.location.search);var id=queryParameters.get(\"id\");if(id){user_id=id;}var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isFollowing=_useState4[0],setIsFollowing=_useState4[1];function showFollowings(){console.log(user_id);post(\"\".concat(baseurl,\"/list_followings\"),{username:user_id}).then(function(data){setUserList(data);});setIsFollowing(true);}function showFollowers(){console.log(user_id);post(\"\".concat(baseurl,\"/list_followers\"),{username:user_id}).then(function(data){setUserList(data);});setIsFollowing(false);}useEffect(function(){showFollowings();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"follower-btn1\",onClick:function onClick(){return showFollowings();},children:\"Followings\"}),/*#__PURE__*/_jsx(\"button\",{className:\"follower-btn2\",onClick:function onClick(){return showFollowers();},children:\"Followers\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[userList.map(function(x,idx){return/*#__PURE__*/_jsx(UserItem,{user_item:x},idx);}),userList.length===0&&isFollowing?\"No following\":\"\",userList.length===0&&!isFollowing?\"No followers\":\"\"]})]});}","map":{"version":3,"names":["useEffect","useState","baseurl","UserItem","post","FollowPage","props","user_id","queryParameters","URLSearchParams","window","location","search","id","get","userList","setUserList","isFollowing","setIsFollowing","showFollowings","console","log","username","then","data","showFollowers","map","x","idx","length"],"sources":["D:/xingqian/htmlWorkSpace/Archive/client/src/pages/FollowPage.js"],"sourcesContent":["import '../css/FollowPage.css';\r\n\r\nimport {useEffect, useState} from \"react\";\r\nimport {baseurl} from \"../config\";\r\nimport {UserItem} from \"../components/UserItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport {post} from \"../utils\";\r\n\r\nexport function FollowPage(props) {\r\n  let {user_id} = props\r\n  const queryParameters = new URLSearchParams(window.location.search)\r\n  let id = queryParameters.get(\"id\")\r\n  if (id) {\r\n    user_id = id\r\n  }\r\n\r\n  let [userList, setUserList] = useState([])\r\n  let [isFollowing, setIsFollowing] = useState(true)\r\n\r\n  function showFollowings() {\r\n    console.log(user_id)\r\n    post(`${baseurl}/list_followings`, {username: user_id}).then(data => {\r\n      setUserList(data)\r\n    })\r\n    setIsFollowing(true)\r\n  }\r\n\r\n  function showFollowers() {\r\n    console.log(user_id)\r\n    post(`${baseurl}/list_followers`, {username: user_id}).then(data => {\r\n      setUserList(data)\r\n    })\r\n    setIsFollowing(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    showFollowings()\r\n  }, [])\r\n\r\n  return (<div>\r\n    <div>\r\n      <button className={\"follower-btn1\"} onClick={() => showFollowings()}>Followings</button>\r\n      <button className={\"follower-btn2\"} onClick={() => showFollowers()}>Followers</button>\r\n    </div>\r\n    <div>\r\n      {userList.map((x, idx) => <UserItem key={idx} user_item={x}></UserItem>)}\r\n      {userList.length === 0 && isFollowing ? \"No following\" : \"\"}\r\n      {userList.length === 0 && !isFollowing ? \"No followers\" : \"\"}\r\n    </div>\r\n  </div>)\r\n}\r\n\r\nFollowPage.propTypes = {\r\n  user_id: PropTypes.string\r\n};\r\n"],"mappings":"uHAAA,MAAO,uBAAuB,CAE9B,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,OAAQC,OAAO,KAAO,WAAW,CACjC,OAAQC,QAAQ,KAAO,wBAAwB,CAE/C,OAAQC,IAAI,KAAO,UAAU,CAAC,wFAE9B,MAAO,SAASC,WAAU,CAACC,KAAK,CAAE,CAChC,GAAKC,QAAO,CAAID,KAAK,CAAhBC,OAAO,CACZ,GAAMC,gBAAe,CAAG,GAAIC,gBAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CACnE,GAAIC,GAAE,CAAGL,eAAe,CAACM,GAAG,CAAC,IAAI,CAAC,CAClC,GAAID,EAAE,CAAE,CACNN,OAAO,CAAGM,EAAE,CACd,CAEA,cAA8BZ,QAAQ,CAAC,EAAE,CAAC,wCAArCc,QAAQ,eAAEC,WAAW,eAC1B,eAAoCf,QAAQ,CAAC,IAAI,CAAC,yCAA7CgB,WAAW,eAAEC,cAAc,eAEhC,QAASC,eAAc,EAAG,CACxBC,OAAO,CAACC,GAAG,CAACd,OAAO,CAAC,CACpBH,IAAI,WAAIF,OAAO,qBAAoB,CAACoB,QAAQ,CAAEf,OAAO,CAAC,CAAC,CAACgB,IAAI,CAAC,SAAAC,IAAI,CAAI,CACnER,WAAW,CAACQ,IAAI,CAAC,CACnB,CAAC,CAAC,CACFN,cAAc,CAAC,IAAI,CAAC,CACtB,CAEA,QAASO,cAAa,EAAG,CACvBL,OAAO,CAACC,GAAG,CAACd,OAAO,CAAC,CACpBH,IAAI,WAAIF,OAAO,oBAAmB,CAACoB,QAAQ,CAAEf,OAAO,CAAC,CAAC,CAACgB,IAAI,CAAC,SAAAC,IAAI,CAAI,CAClER,WAAW,CAACQ,IAAI,CAAC,CACnB,CAAC,CAAC,CACFN,cAAc,CAAC,KAAK,CAAC,CACvB,CAEAlB,SAAS,CAAC,UAAM,CACdmB,cAAc,EAAE,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAQ,oCACN,oCACE,eAAQ,SAAS,CAAE,eAAgB,CAAC,OAAO,CAAE,yBAAMA,eAAc,EAAE,EAAC,wBAAoB,cACxF,eAAQ,SAAS,CAAE,eAAgB,CAAC,OAAO,CAAE,yBAAMM,cAAa,EAAE,EAAC,uBAAmB,GAClF,cACN,uBACGV,QAAQ,CAACW,GAAG,CAAC,SAACC,CAAC,CAAEC,GAAG,qBAAK,KAAC,QAAQ,EAAW,SAAS,CAAED,CAAE,EAAlBC,GAAG,CAA2B,GAAC,CACvEb,QAAQ,CAACc,MAAM,GAAK,CAAC,EAAIZ,WAAW,CAAG,cAAc,CAAG,EAAE,CAC1DF,QAAQ,CAACc,MAAM,GAAK,CAAC,EAAI,CAACZ,WAAW,CAAG,cAAc,CAAG,EAAE,GACxD,GACF,CACR"},"metadata":{},"sourceType":"module","externalDependencies":[]}