{"ast":null,"code":"import _regeneratorRuntime from\"D:/xingqian/htmlWorkSpace/Archive/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/xingqian/htmlWorkSpace/Archive/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/xingqian/htmlWorkSpace/Archive/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../css/LoginPage.css\";import{useEffect,useState}from\"react\";import{baseurl,getLoginUser,setLoginUser}from\"../config\";import{post}from\"../utils\";// import {post} from \"../utils\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function LoginPage(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];useEffect(function(){setLoginUser(\"\");},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Login55555\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-ok\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var r;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return post(\"\".concat(baseurl,\"/elogin\"),{username:username,password:password});case 2:r=_context.sent;if(r.success){setLoginUser(username);console.log(getLoginUser());window.location='/home';}else{alert(\"Error username or password\");window.location='/';}case 4:case\"end\":return _context.stop();}}},_callee);})),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-cancel\",onClick:function onClick(){window.location=\"/register\";},children:\"Register\"})]})]});}","map":{"version":3,"names":["useEffect","useState","baseurl","getLoginUser","setLoginUser","post","LoginPage","props","username","setUsername","password","setPassword","e","target","value","r","success","console","log","window","location","alert"],"sources":["D:/xingqian/htmlWorkSpace/Archive/client/src/pages/LoginPage.js"],"sourcesContent":["import \"../css/LoginPage.css\"\r\nimport {useEffect, useState} from \"react\";\r\nimport {baseurl, getLoginUser, setLoginUser} from \"../config\";\r\nimport {post} from \"../utils\";\r\n\r\n// import {post} from \"../utils\";\r\n\r\nexport function LoginPage(props) {\r\n\r\n  let [username, setUsername] = useState(\"\")\r\n  let [password, setPassword] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    setLoginUser(\"\")\r\n  }, [])\r\n\r\n  return (<div>\r\n    <div>\r\n      <h2>Login55555</h2>\r\n    </div>\r\n    <div className={\"field\"}>\r\n      <span>Username: </span>\r\n      <input type={\"text\"} value={username} onChange={e => setUsername(e.target.value)}/>\r\n    </div>\r\n    <div className={\"field\"}>\r\n      <span>Password: </span>\r\n      <input type={\"password\"} value={password} onChange={e => setPassword(e.target.value)}/>\r\n    </div>\r\n    <div>\r\n      <button className={\"btn-ok\"} onClick={async () => {\r\n        let r = await post(`${baseurl}/elogin`, {username, password})\r\n        if (r.success) {\r\n          setLoginUser(username)\r\n          console.log(getLoginUser())\r\n          window.location = '/home'\r\n        } else {\r\n          alert(\"Error username or password\")\r\n          window.location = '/'\r\n        }\r\n      }}>Login\r\n      </button>\r\n      <button className={\"btn-cancel\"} onClick={() => {\r\n        window.location = \"/register\"\r\n      }}>Register\r\n      </button>\r\n    </div>\r\n  </div>)\r\n}\r\n\r\nLoginPage.propTypes = {};\r\n"],"mappings":"qXAAA,MAAO,sBAAsB,CAC7B,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,OAAQC,OAAO,CAAEC,YAAY,CAAEC,YAAY,KAAO,WAAW,CAC7D,OAAQC,IAAI,KAAO,UAAU,CAE7B;AAAA,wFAEA,MAAO,SAASC,UAAS,CAACC,KAAK,CAAE,CAE/B,cAA8BN,QAAQ,CAAC,EAAE,CAAC,wCAArCO,QAAQ,eAAEC,WAAW,eAC1B,eAA8BR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAE1BX,SAAS,CAAC,UAAM,CACdI,YAAY,CAAC,EAAE,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAQ,oCACN,kCACE,kCAAmB,EACf,cACN,aAAK,SAAS,CAAE,OAAQ,wBACtB,oCAAuB,cACvB,cAAO,IAAI,CAAE,MAAO,CAAC,KAAK,CAAEI,QAAS,CAAC,QAAQ,CAAE,kBAAAI,CAAC,QAAIH,YAAW,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,GAC/E,cACN,aAAK,SAAS,CAAE,OAAQ,wBACtB,oCAAuB,cACvB,cAAO,IAAI,CAAE,UAAW,CAAC,KAAK,CAAEJ,QAAS,CAAC,QAAQ,CAAE,kBAAAE,CAAC,QAAID,YAAW,CAACC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,GACnF,cACN,oCACE,eAAQ,SAAS,CAAE,QAAS,CAAC,OAAO,wEAAE,iKACtBT,KAAI,WAAIH,OAAO,YAAW,CAACM,QAAQ,CAARA,QAAQ,CAAEE,QAAQ,CAARA,QAAQ,CAAC,CAAC,QAAzDK,CAAC,eACL,GAAIA,CAAC,CAACC,OAAO,CAAE,CACbZ,YAAY,CAACI,QAAQ,CAAC,CACtBS,OAAO,CAACC,GAAG,CAACf,YAAY,EAAE,CAAC,CAC3BgB,MAAM,CAACC,QAAQ,CAAG,OAAO,CAC3B,CAAC,IAAM,CACLC,KAAK,CAAC,4BAA4B,CAAC,CACnCF,MAAM,CAACC,QAAQ,CAAG,GAAG,CACvB,CAAC,sDACF,EAAC,mBACO,cACT,eAAQ,SAAS,CAAE,YAAa,CAAC,OAAO,CAAE,kBAAM,CAC9CD,MAAM,CAACC,QAAQ,CAAG,WAAW,CAC/B,CAAE,sBACO,GACL,GACF,CACR"},"metadata":{},"sourceType":"module","externalDependencies":[]}