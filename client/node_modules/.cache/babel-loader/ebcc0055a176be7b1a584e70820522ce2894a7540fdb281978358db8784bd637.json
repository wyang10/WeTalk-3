{"ast":null,"code":"import _regeneratorRuntime from\"/Users/weihongyang/Desktop/WeTalk/version4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/weihongyang/Desktop/WeTalk/version4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/weihongyang/Desktop/WeTalk/version4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../css/TwitterItem.css';import user_icon from'../icons/user.png';import dislike_icon from'../icons/dislike.png';import like_icon from'../icons/like.png';import message_icon from'../icons/message.png';import{baseurl}from\"../config\";import{useState}from\"react\";import{post}from\"../utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function TwitterItem(props){var twitter_item=props.twitter_item;var _id=twitter_item._id,username=twitter_item.username,nickname=twitter_item.nickname,date=twitter_item.date,content=twitter_item.content,replycount=twitter_item.replycount,likes=twitter_item.likes,dislikes=twitter_item.dislikes;var _useState=useState(likes),_useState2=_slicedToArray(_useState,2),_likes=_useState2[0],setLikes=_useState2[1];var _useState3=useState(dislikes),_useState4=_slicedToArray(_useState3,2),_dislikes=_useState4[0],setDislikes=_useState4[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"twitter-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"img\",{src:user_icon,alt:\"\",onClick:function onClick(){window.location=\"/user_detail?id=\".concat(encodeURI(username));}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{className:\"nickname\",children:nickname}),/*#__PURE__*/_jsxs(\"span\",{className:\"username\",children:[\"@\",username]}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:date})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:content}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"reply-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:message_icon,alt:\"\",onClick:function onClick(){window.location=\"/detail?id=\".concat(_id);}})}),/*#__PURE__*/_jsx(\"span\",{className:\"reply-count\",children:replycount}),/*#__PURE__*/_jsx(\"span\",{className:\"likes-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:like_icon,alt:\"\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return post(\"\".concat(baseurl,\"/like_twitter\"),{twitter_id:_id});case 2:_likes++;setLikes(_likes);case 4:case\"end\":return _context.stop();}}},_callee);}))})}),/*#__PURE__*/_jsx(\"span\",{className:\"likes-count\",children:_likes}),/*#__PURE__*/_jsx(\"span\",{className:\"dislikes-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:dislike_icon,alt:\"\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return post(\"\".concat(baseurl,\"/dislike_twitter\"),{twitter_id:_id});case 2:_dislikes++;setDislikes(_dislikes);case 4:case\"end\":return _context2.stop();}}},_callee2);}))})}),/*#__PURE__*/_jsx(\"span\",{className:\"dislikes-count\",children:_dislikes})]})]})]});}","map":{"version":3,"names":["user_icon","dislike_icon","like_icon","message_icon","baseurl","useState","post","TwitterItem","props","twitter_item","_id","username","nickname","date","content","replycount","likes","dislikes","_likes","setLikes","_dislikes","setDislikes","window","location","encodeURI","twitter_id"],"sources":["/Users/weihongyang/Desktop/WeTalk/version4/client/src/components/TwitterItem.js"],"sourcesContent":["import '../css/TwitterItem.css'\r\nimport user_icon from '../icons/user.png'\r\nimport dislike_icon from '../icons/dislike.png'\r\nimport like_icon from '../icons/like.png'\r\nimport message_icon from '../icons/message.png'\r\nimport {baseurl} from \"../config\";\r\nimport {useState} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {post} from \"../utils\";\r\n\r\n\r\nexport function TwitterItem(props) {\r\n  const {twitter_item} = props\r\n  let {\r\n    _id, username, nickname, date, content, replycount, likes, dislikes\r\n  } = twitter_item\r\n  let [_likes, setLikes] = useState(likes)\r\n  let [_dislikes, setDislikes] = useState(dislikes)\r\n\r\n  return (<div className={\"twitter-item\"}>\r\n    <div className={\"icon\"}>\r\n      <img src={user_icon} alt={\"\"} onClick={() => {\r\n        window.location = `/user_detail?id=${encodeURI(username)}`\r\n      }}/>\r\n    </div>\r\n    <div className={\"main\"}>\r\n      <div>\r\n        <b className={\"nickname\"}>{nickname}</b>\r\n        <span className={\"username\"}>@{username}</span>\r\n        <span className={\"date\"}>{date}</span>\r\n      </div>\r\n      <div className={\"content\"}>\r\n        {content}\r\n      </div>\r\n      <div>\r\n        <span className={\"reply-icon\"}>\r\n          <img src={message_icon} alt=\"\" onClick={() => {\r\n            window.location = `/detail?id=${_id}`\r\n          }}/>\r\n        </span>\r\n        <span className={\"reply-count\"}>{replycount}</span>\r\n        <span className={\"likes-icon\"}>\r\n          <img src={like_icon} alt=\"\" onClick={async () => {\r\n            await post(`${baseurl}/like_twitter`, {twitter_id: _id})\r\n            _likes++;\r\n            setLikes(_likes);\r\n          }}/>\r\n        </span>\r\n        <span className={\"likes-count\"}>{_likes}</span>\r\n        <span className={\"dislikes-icon\"}>\r\n          <img src={dislike_icon} alt=\"\" onClick={async () => {\r\n            await post(`${baseurl}/dislike_twitter`, {twitter_id: _id})\r\n            _dislikes++;\r\n            setDislikes(_dislikes);\r\n          }}/>\r\n        </span>\r\n        <span className={\"dislikes-count\"}>{_dislikes}</span>\r\n      </div>\r\n    </div>\r\n  </div>)\r\n}\r\n\r\nTwitterItem.propTypes = {\r\n  twitter_item: PropTypes.object\r\n};\r\n\r\n"],"mappings":"gZAAA,MAAO,wBAAwB,CAC/B,MAAOA,UAAS,KAAM,mBAAmB,CACzC,MAAOC,aAAY,KAAM,sBAAsB,CAC/C,MAAOC,UAAS,KAAM,mBAAmB,CACzC,MAAOC,aAAY,KAAM,sBAAsB,CAC/C,OAAQC,OAAO,KAAO,WAAW,CACjC,OAAQC,QAAQ,KAAO,OAAO,CAE9B,OAAQC,IAAI,KAAO,UAAU,CAAC,wFAG9B,MAAO,SAASC,YAAW,CAACC,KAAK,CAAE,CACjC,GAAOC,aAAY,CAAID,KAAK,CAArBC,YAAY,CACnB,GACEC,IAAG,CACDD,YAAY,CADdC,GAAG,CAAEC,QAAQ,CACXF,YAAY,CADTE,QAAQ,CAAEC,QAAQ,CACrBH,YAAY,CADCG,QAAQ,CAAEC,IAAI,CAC3BJ,YAAY,CADWI,IAAI,CAAEC,OAAO,CACpCL,YAAY,CADiBK,OAAO,CAAEC,UAAU,CAChDN,YAAY,CAD0BM,UAAU,CAAEC,KAAK,CACvDP,YAAY,CADsCO,KAAK,CAAEC,QAAQ,CACjER,YAAY,CAD6CQ,QAAQ,CAErE,cAAyBZ,QAAQ,CAACW,KAAK,CAAC,wCAAnCE,MAAM,eAAEC,QAAQ,eACrB,eAA+Bd,QAAQ,CAACY,QAAQ,CAAC,yCAA5CG,SAAS,eAAEC,WAAW,eAE3B,mBAAQ,aAAK,SAAS,CAAE,cAAe,wBACrC,YAAK,SAAS,CAAE,MAAO,uBACrB,YAAK,GAAG,CAAErB,SAAU,CAAC,GAAG,CAAE,EAAG,CAAC,OAAO,CAAE,kBAAM,CAC3CsB,MAAM,CAACC,QAAQ,2BAAsBC,SAAS,CAACb,QAAQ,CAAC,CAAE,CAC5D,CAAE,EAAE,EACA,cACN,aAAK,SAAS,CAAE,MAAO,wBACrB,oCACE,UAAG,SAAS,CAAE,UAAW,UAAEC,QAAQ,EAAK,cACxC,cAAM,SAAS,CAAE,UAAW,eAAGD,QAAQ,GAAQ,cAC/C,aAAM,SAAS,CAAE,MAAO,UAAEE,IAAI,EAAQ,GAClC,cACN,YAAK,SAAS,CAAE,SAAU,UACvBC,OAAO,EACJ,cACN,oCACE,aAAM,SAAS,CAAE,YAAa,uBAC5B,YAAK,GAAG,CAAEX,YAAa,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAE,kBAAM,CAC5CmB,MAAM,CAACC,QAAQ,sBAAiBb,GAAG,CAAE,CACvC,CAAE,EAAE,EACC,cACP,aAAM,SAAS,CAAE,aAAc,UAAEK,UAAU,EAAQ,cACnD,aAAM,SAAS,CAAE,YAAa,uBAC5B,YAAK,GAAG,CAAEb,SAAU,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,wEAAE,2JAC7BI,KAAI,WAAIF,OAAO,kBAAiB,CAACqB,UAAU,CAAEf,GAAG,CAAC,CAAC,QACxDQ,MAAM,EAAE,CACRC,QAAQ,CAACD,MAAM,CAAC,CAAC,sDAClB,EAAC,EAAE,EACC,cACP,aAAM,SAAS,CAAE,aAAc,UAAEA,MAAM,EAAQ,cAC/C,aAAM,SAAS,CAAE,eAAgB,uBAC/B,YAAK,GAAG,CAAEjB,YAAa,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,wEAAE,iKAChCK,KAAI,WAAIF,OAAO,qBAAoB,CAACqB,UAAU,CAAEf,GAAG,CAAC,CAAC,QAC3DU,SAAS,EAAE,CACXC,WAAW,CAACD,SAAS,CAAC,CAAC,wDACxB,EAAC,EAAE,EACC,cACP,aAAM,SAAS,CAAE,gBAAiB,UAAEA,SAAS,EAAQ,GACjD,GACF,GACF,CACR"},"metadata":{},"sourceType":"module","externalDependencies":[]}